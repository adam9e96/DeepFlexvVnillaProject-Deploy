<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GeekFlex - 영화 상세</title>
    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/movie-detail.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>

<body>
    <!-- 검색 모달 -->
    <div id="searchModal" class="modal">
      <div class="modal-content">
        <div class="search-header">
          <h2>영화 검색</h2>
          <span class="close">&times;</span>
        </div>
        <div class="search-container">
          <input
            type="text"
            id="searchInput"
            placeholder="영화 제목, 감독, 배우로 검색..."
          />
          <div class="search-results" id="searchResults"></div>
        </div>
      </div>
    </div>

    <!-- 헤더 -->
    <div data-include-path="./assets/header.html"></div>

    <!-- 사이드바 -->
    <div data-include-path="./assets/sidebar.html"></div>

    <!-- 메인 컨텐츠 -->
    <main class="main movie-detail-main">
        <div class="container">
            <!-- 뒤로가기 버튼 -->
            <button class="back-button" id="backButton">
                <i class="fas fa-arrow-left"></i>
                <span>목록으로</span>
            </button>

            <!-- 로딩 화면 -->
            <div class="loading-container" id="loadingContainer">
                <div class="spinner"></div>
                <p>영화 정보를 불러오는 중...</p>
            </div>

            <!-- 에러 화면 -->
            <div class="error-container" id="errorContainer" style="display: none;">
                <i class="fas fa-exclamation-triangle"></i>
                <h2>영화 정보를 불러올 수 없습니다</h2>
                <p id="errorMessage">알 수 없는 오류가 발생했습니다.</p>
                <button class="retry-button" id="retryButton">다시 시도</button>
            </div>

            <!-- 영화 상세 정보 -->
            <div class="movie-detail-container" id="movieDetailContainer" style="display: none;">
                <!-- 영화 백드롭 및 헤더 -->
                <div class="movie-backdrop" id="movieBackdrop">
                    <div class="backdrop-overlay"></div>
                    <div class="movie-header-info">
                        <h1 class="movie-title-large" id="movieTitle"></h1>
                        <p class="movie-tagline" id="movieTagline"></p>
                    </div>
                </div>

                <!-- 영화 메인 정보 -->
                <div class="movie-main-content">
                    <div class="movie-poster-section">
                        <img class="movie-poster-large" id="moviePoster" src="" alt="영화 포스터">
                        <div class="movie-quick-actions">
                            <button class="action-btn favorite-btn" id="favoriteBtn">
                                <i class="far fa-heart"></i>
                                <span>찜하기</span>
                            </button>
                            <button class="action-btn watchlist-btn" id="watchlistBtn">
                                <i class="far fa-bookmark"></i>
                                <span>보고싶어요</span>
                            </button>
                        </div>
                    </div>

                    <div class="movie-info-section">
                        <!-- 기본 정보 -->
                        <div class="movie-basic-info">
                            <div class="movie-rating-section">
                                <div class="rating-display">
                                    <div class="rating-circle">
                                        <span class="rating-value" id="movieRating"></span>
                                        <span class="rating-max">/10</span>
                                    </div>
                                    <div class="rating-stars-large" id="ratingStars"></div>
                                    <span class="vote-count">(<span id="voteCount"></span>명 평가)</span>
                                </div>
                            </div>

                            <div class="movie-meta-info">
                                <div class="meta-item">
                                    <i class="fas fa-calendar-alt"></i>
                                    <span>개봉일</span>
                                    <strong id="releaseDate"></strong>
                                </div>
                                <div class="meta-item">
                                    <i class="fas fa-clock"></i>
                                    <span>상영시간</span>
                                    <strong id="runtime"></strong>
                                </div>
                                <div class="meta-item">
                                    <i class="fas fa-info-circle"></i>
                                    <span>관람등급</span>
                                    <strong id="censorshipInfo"></strong>
                                </div>
                            </div>
                        </div>

                        <!-- 장르 -->
                        <div class="movie-genres-section">
                            <h3>장르</h3>
                            <div class="genres-list" id="genresList"></div>
                        </div>

                        <!-- 줄거리 -->
                        <div class="movie-overview-section">
                            <h3>줄거리</h3>
                            <p class="movie-overview-text" id="movieOverview"></p>
                        </div>

                        <!-- 제작 정보 -->
                        <div class="movie-production-section">
                            <div class="production-item">
                                <h4>감독</h4>
                                <p id="director"></p>
                            </div>
                            <div class="production-item">
                                <h4>제작사</h4>
                                <p id="productionCompanies"></p>
                            </div>
                        </div>

                        <!-- 출연진 -->
                        <div class="movie-cast-section">
                            <h3>주요 출연진</h3>
                            <div class="cast-list" id="castList"></div>
                        </div>

                        <!-- OTT 플랫폼 -->
                        <div class="movie-ott-section">
                            <h3>시청 가능한 플랫폼</h3>
                            <div class="ott-platforms-list" id="ottPlatformsList"></div>
                        </div>
                    </div>
                </div>

                <!-- 추가 정보 -->
                <div class="movie-additional-info">
                    <div class="additional-info-item">
                        <h4>예산</h4>
                        <p id="budget">-</p>
                    </div>
                    <div class="additional-info-item">
                        <h4>수익</h4>
                        <p id="revenue">-</p>
                    </div>
                    <div class="additional-info-item" id="homepageItem" style="display: none;">
                        <h4>공식 홈페이지</h4>
                        <a href="#" id="homepageLink" target="_blank" rel="noopener noreferrer"></a>
                    </div>
                    <div class="additional-info-item" id="imdbItem" style="display: none;">
                        <h4>IMDb</h4>
                        <a href="#" id="imdbLink" target="_blank" rel="noopener noreferrer"></a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- 푸터 -->
    <div data-include-path="./assets/footer.html"></div>

    <!-- JavaScript 모듈들 -->
    <script src="js/config.js"></script>
    <script src="js/api.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/filters.js"></script>
    <script src="js/search.js"></script>
    <script src="js/sidebar.js"></script>
    <script src="js/header.js"></script>
    <script src="js/main.js"></script>
    <script src="js/movie-detail.js"></script>
</body>

</html>

